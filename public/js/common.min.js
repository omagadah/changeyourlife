// Common utilities
const q=document.querySelector.bind(document),qa=document.querySelectorAll.bind(document);export function applyInitialTheme(){const t=localStorage.getItem("theme")||"dark";document.body.classList.toggle("light-mode","light"===t)}export function setupThemeToggle(){const d=q("#theme-dark-btn"),l=q("#theme-light-btn");d&&l&&(d.addEventListener("click",()=>{document.body.classList.remove("light-mode"),localStorage.setItem("theme","dark")}),l.addEventListener("click",()=>{document.body.classList.add("light-mode"),localStorage.setItem("theme","light")}))}export function updateGlobalAvatar(i){const t=q(".user-panel-trigger");if(!t)return;const u=localStorage.getItem("userAvatarUrl");if(u)t.style.backgroundImage=`url(${u})`,t.style.backgroundSize="cover",t.style.backgroundPosition="center",t.innerHTML="";else{const n=i?i.toUpperCase():"U";t.style.backgroundImage="none",t.innerHTML=n}}export function normalizeVantaAndHeader(){const v=q("#vanta-birds-bg"),c=v&&v.querySelector("canvas");c&&(c.style.pointerEvents="none",c.style.zIndex="0",v.style.zIndex="0");const h=q(".header");h&&(h.style.zIndex="10000")}